\documentclass{cugrep}

\title{中国地质大学研究生课程论文\TeX{}模板}
\classname{\TeX{}模板教程}
\college{计算机学院}
\major{计算机科学与技术}
\sno{20131001333}
\teacher{教师名字}
\class{硕士}
\author{Timozer}
\begin{document}

\maketitle
%\pagenumbering{roman}
\frontmatter
\cugabstract{
     这是中国地质大学(武汉)研究生课程论文的\LaTeX{}模板的说明文档. 主要对模板进行了介绍, 安装, 使用等方面的说明, 此外还对模板的实现细节进行了一定的说明. 版本历史可以查看到每个版本实现了哪些功能.
 }
\cugkeywords{\TeX{}, \LaTeX{}, 模板, 报告}
\makeabstract 
\tableofcontents
%\thispagestyle{plain}
\clearpage
\mainmatter
%\pagenumbering{arabic}

\chapter{介绍}


\chapter{安装}

\chapter{使用方法}

\chapter{实现细节}

\chapter{版本历史}

\section{Version 0.3}
\label{sec:version_0_3}
因为想不起版本0.1-0.2做了哪些功能, 所以在此就不介绍了.

这个版本主要是实现了中国地质大学(武汉)研究生课程论文 Word 模板中的封面和后面的评语表.
\section{Version 0.4}
\label{sec:version_0_4}

目前在开发中, 暂时实现了摘要的添加. 因为这个\TeX{}模板主要 使用的是
ctexbook 文档类, 所以没有摘要这一环境, 暂时添加了摘要环境. 我不是太
想使用摘要这个环境, 使用环境意味着摘要和关键词的格式需要自己调, 这
很不舒服.

2018年 1月26日 星期五 21时50分38秒 CST

我新定义了一个命令\verb|\makeabstract|, 像\verb|\maketitle|一样, 可以
使用这个命令来生成摘要页面. 在使用之前, 你必须给变量\verb|\cugabstract, \cugabstract| 赋值. 也许我可以起更好听的名字:).

2018年 1月28日 星期日 17时01分20秒 CST

为了使行文方便, 我重新定义了\verb|\frontmatter, \mainmatter, \backmatter| 这四个命令. 

\begin{itemize}
    \item \verb|\frontmatter| 这个命令实现的功能是关闭 chapter 计数, 使用 roman 数字来标识页码;
    \item \verb|\mainmatter| 这个命令实现的功能是打开 chapter 计数, 使用 arabic 数字来标识页码;
    \item \verb|\backmatter| 这个命令实现的功能是关闭 chapter 计数.
\end{itemize}

折腾了一会儿页眉页脚, 包括首页页眉页脚. 但是成果比较感人, 首页之外的页面实现了页眉页脚的设置,
页眉左边为``中国地质大学(武汉)研究生课程论文'', 右边为节标题, 节标题的格式有点儿不好,需要改进.
另一个就是首页的页眉页脚设置好像有点儿问题, 只是让它在下面显示页码, 结果没有显示, 目前还不知道问题所在. 

2018年 1月29日 星期一 12时04分22秒 CST

今天终于查到了首页页脚没显示的问题. 在 \verb|\ctexset| 里面设置 \verb|chapter| 的时候设置了页
面的格式为 \verb|empty|, 把后面的设置冲掉了. 现在更改为 \verb|plain| 格式. 新的问题又来了, 首
页页眉会显示一条横线, 看着不舒服, 去掉吧. 

ctex 本身对 appendix 的设置就很不错了, 所以我这里就不对其重新定义了, 删除了原来对 \verb|\appendix|
的重定义. 

看了好多大学的论文模板, 发现附录一般都是放在最后的, 而参考文献, 致谢这些在附录的前面. 这就产生了一个问题.
在写文档的时候, 我们用 \verb|\appendix| 命令来重置 chapter 计数, 并使用字母来表示章号, 而使用 \verb|\backmatter| 
来关闭 chapter 计数, 从而使 \verb|\chapter| 命令产生的章标题(参考文献, 致谢等) 不包含章号. 这样无形中
的一个顺序使得结果和自己所想甚远. \verb|\backmatter| 命令关闭 chapter 计数, \verb|\appendix| 是不会打开的.
所以这里要重新定义 \verb|\appendix|, 使得它会打开 chapter 计数. 

0.4 版本开发搞一段落. 回顾一下该版本实现的功能:

\begin{itemize}
    \item 添加了摘要命令 \verb|\makeabstract|, 使得可以方便生成摘要;
    \item 定义了报告的写作顺序, \verb|\frontmatter, \mainmatter, \backmatter, \appendix|, 严格按照这个顺序来定义
        报告的结构, 如果不按此来写, 很有可能不是你想要的结果;
    \item 重定义了 \verb|\frontmatter, \mainmatter, \appendix| 等命令.
\end{itemize}
\backmatter
\chapter{参考文献}
\chapter{致谢}
\appendix
\chapter{测试附录}
这里是附录, 看看是否会显示正常.

\backmatter 
\end{document}
